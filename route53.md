### Amazone Route 53란?

컴퓨터는 IP 주소로 통신을 함. 하지만 IP주소를 다 기억하는건 어려움. 

그래서 쉽게 기억될 수 있도록 IP 주소에 이름을 붙여주는 시스템이 DNS(Domain Name System)

즉, DNS는 IP 주소에 도메인 이름을 매칭시켜주는 서비스

**AWS Route 53은 DNS를 서비스화 시킨 것.** 

IP주소와 도메인을 매칭해주고 웹 트래픽을 관리(모니터링)해줌

Route 53은 ec2, rds, S3 연결을 비롯해 로드밸런싱(ELB) 기능을 제공하여 여러 대의 서버에 트래픽을 분산시킬 수 있음.

→ AWS 서비스와 원활한 연동

→ 가용성과 확장성이 뛰어난 서비스

- 로드 밸런싱: 도메인을 이용해서 여러개의 서비스로 부하를 분산하는 것

### 도메인 구매

도메인은 AWS Route 53, 가비아 등에서 구매 가능하다. 

Route 53에서도 도메인을 구매할 수 있다는 것을 처음 알았는데 심지어 가격도 가비아보다 저렴하다고 한다. 

그런데 왜 한국 사람들은 가비아를 더 많이 사용할까? 하고 알아봤는데 

1. ‘.kr’ 같은 한국 특화 도메인 점유율이 높음
2. 달러가 아닌 원화로 결제할 수 있음
3. 문제 발생 시 한국어로 소통이 가능함

이처럼 한국인에게 더 직관적인 서비스를 제공하기에 접근성이 높은 가비아를 더 많이 사용하는 듯 하다. 

하지만 DNS 관리를 AWS Route 53, Azure DNS 등 사용하고 있는 클라우드 사에서 제공하는 서비스를 사용하는 이유는 다른 서비스와의 연결이 쉽기 때문. 

### 가비아와 Route 53의 역할

그럼 가비아와 Route 53을 같이 사용할 떄 각각이 하는 역할이 뭘까?

가비아 

- 도메인 소유권 (관리 주체)
    
    도메인 등록, 갱신, 소유자 변경 등 소유와 관련된 모든 법적/관리적 권한을 관리
    
- 네임서버 지정 권한
    
    도메인을 어디에서든 쓸 수 있도록 가비아 관리창에서 해당 도메인의 네임서버를 지정할 수 있음
    

Route 53 

- DNS 관리
    
    Route 53 Hosted Zone에 도메인을 등록하고 A, AAAA, CNAME 등 실제 DNS 레코드 관리
    
- 헬스체크, 라우팅, 장애 조치 등 DNS 기능 제공
- AWS 클라우드 서비스(EC2, S3, ELB, RDS 등)와 연동

즉, 가비아는 도메인을 소유하고, 네임서버를 지정해주고

Route 53은 네임서버를 관리하고 AWS 서비스와 연동하는 역할을 함

이렇게 도메인 소유권과 DNS 관리하는 곳을 분리하면 추후 AWS가 아닌 구글 클라우드 등 타 DNS 서비스로 전환하는 유연성도 가질 수 있다고 함. 

### 네임서버

네임서버란? 도메인의 ‘주소 안내소’

브라우저가 xxxx.com에 접속할 때 ‘어디에서 주소(실제IP)를 알아내야 하는지’를 알려주는 역할

그렇기에 네임 서버 안에는 도메인과 관련된 다양한 정보(레코드)가 저장되어 있다. 

레코드를 통해 DNS 서버가 패킷에 대해 어떤 식으로 처리할 지 알 수 있다. 

레코드 종류

![image.png](<img width="1308" height="804" alt="image" src="https://github.com/user-attachments/assets/e5abf66d-f581-4a6f-b0f1-acce20595054" />
)

A 레코드 → 도메인과 IPv4 주소를 매핑  (xxx.com → 123.23.532.123)

- 이때 꼭 일대일 매칭은 아님. 네이버도 A 레코드를 조회하면 여러 IP 주소가 매핑되어 있다고 함

CNAME → 서브도메인(별명 도메인)을 진짜 도메인으로 매핑 (xxx2.com으로 접근해도 xxx.com로 이동하게 해줌)

AAAA → 도메인과 IPv6 주소를 매핑

MX → 해당 도메인으로 온 메일을 어디로 전달할지 (메일 서버 주소)

실제 동작

1. 브라우저에 xxxx.com을 입력
2. 네임서버를 먼저 찾아서 해당 주소에 대한 정보를 어느 DNS찾을지 결정
3. 네임서버에 각종 레코드를 물어봄 (A, CNAME 등)
4. A 레코드를 통해 실제 주소로 연결
